"use client";
import { useState, useEffect } from "react";
import { NextPage } from "next";
import styled from "styled-components";
import { usePathname, useRouter } from "next/navigation";
import LogoEffect from "./components/Login/LogoEffect";
import {
  MaxSize,
  Center,
  BoldNomalText,
  loadEffect,
  FlexBox,
} from "../styles/base";
import Button from "./components/Button/Button";

const Home: NextPage = () => {
  const router = useRouter();

  const [seconds, setSeconds] = useState(0);

  useEffect(() => {
    const countdown = setInterval(() => {
      if (seconds < 5) setSeconds(seconds + 1);
    }, 1000);

    return () => clearInterval(countdown);
  }, [seconds]);

  return (
    <>
      <MaxSize
        onClick={() => {
          setSeconds(100);
        }}
      >
        <FlexEnd>
          <Container>
            <LogoEffect seconds={seconds} />
          </Container>
          {seconds > 2 && (
            <Ani>
              <FlexBox>
                <svg
                  width="50"
                  height="50"
                  viewBox="0 0 50 50"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  style={{ margin: "0 5.5px", cursor: "pointer" }}
                >
                  <rect width="50" height="50" fill="white" />
                  <circle cx="25" cy="25" r="25" fill="#FEE500" />
                  <path
                    d="M25.0721 12.0654C17.2941 12.0654 11.0215 17.0835 11.0215 23.1754C11.0215 27.1297 13.6309 30.5921 17.545 32.5692L16.2202 37.5171C16.1952 37.5913 16.1914 37.6708 16.2091 37.7471C16.2268 37.8233 16.2654 37.8931 16.3206 37.9486C16.401 38.0195 16.5044 38.0587 16.6116 38.059C16.7005 38.0518 16.7848 38.0167 16.8525 37.9586L22.553 34.1148C23.3945 34.231 24.2427 34.2913 25.0922 34.2954C32.8602 34.2954 39.1428 29.2774 39.1428 23.1754C39.1428 17.0734 32.8401 12.0654 25.0721 12.0654Z"
                    fill="#392020"
                  />
                  <path
                    d="M15.9383 21.4189H14.4028C14.2125 21.4244 14.0245 21.3757 13.8608 21.2784C13.7882 21.2329 13.7257 21.1728 13.6773 21.102C13.629 21.0312 13.5958 20.9511 13.5798 20.8669C13.575 20.8135 13.575 20.7598 13.5798 20.7064C13.5751 20.6064 13.5945 20.5068 13.6364 20.4159C13.6783 20.3251 13.7415 20.2457 13.8207 20.1845C13.9957 20.0578 14.2068 19.9908 14.4229 19.9937H19.0495C19.2414 19.987 19.4306 20.0396 19.5915 20.1443C19.6659 20.1878 19.7297 20.2474 19.7782 20.3185C19.8268 20.3897 19.859 20.4707 19.8725 20.5558C19.8774 20.6059 19.8774 20.6563 19.8725 20.7064C19.8772 20.8078 19.8579 20.9088 19.816 21.0013C19.7741 21.0937 19.711 21.1749 19.6316 21.2382C19.4609 21.3648 19.2518 21.4286 19.0395 21.4189H17.5541V26.6979C17.5602 26.8104 17.5428 26.9229 17.503 27.0282C17.4633 27.1336 17.4021 27.2297 17.3233 27.3101C17.2478 27.3871 17.1569 27.4474 17.0567 27.4872C16.9564 27.5269 16.849 27.5452 16.7412 27.541C16.5527 27.5463 16.3682 27.4861 16.2193 27.3704C16.0776 27.2574 15.9814 27.097 15.9484 26.9187C15.9384 26.8454 15.9384 26.7712 15.9484 26.6979L15.9383 21.4189Z"
                    fill="#FEE500"
                  />
                  <path
                    d="M20.3154 20.3851C20.3596 20.22 20.4633 20.077 20.6065 19.9837C20.7591 19.8972 20.933 19.8554 21.1083 19.8632H21.4897C21.6756 19.8566 21.8598 19.9017 22.0216 19.9937C22.193 20.109 22.3148 20.2845 22.3628 20.4855L24.3701 26.1559C24.4221 26.3039 24.4657 26.4547 24.5005 26.6076C24.504 26.6711 24.504 26.7347 24.5005 26.7983C24.5039 26.8961 24.4859 26.9934 24.4478 27.0836C24.4096 27.1737 24.3523 27.2545 24.2797 27.3202C24.2094 27.3922 24.125 27.449 24.0318 27.487C23.9385 27.525 23.8384 27.5433 23.7378 27.5409C23.583 27.5563 23.4275 27.5192 23.2964 27.4354C23.1653 27.3517 23.0663 27.2262 23.0152 27.0793L22.5937 25.8449H19.9541L19.5326 27.0793C19.4828 27.2291 19.3825 27.357 19.2489 27.4412C19.1153 27.5254 18.9567 27.5606 18.8 27.5409C18.6303 27.5454 18.464 27.4923 18.3283 27.3904C18.196 27.2852 18.1068 27.1353 18.0774 26.9689C18.0721 26.9122 18.0721 26.855 18.0774 26.7983C18.0601 26.6986 18.0601 26.5969 18.0774 26.4972C18.0774 26.3868 18.1476 26.2663 18.1878 26.1559L20.3154 20.3851ZM21.3191 21.6999L20.3656 24.7108H22.2625L21.3191 21.6999Z"
                    fill="#FEE500"
                  />
                  <path
                    d="M24.7313 20.7063C24.7211 20.481 24.8005 20.2609 24.9521 20.0941C25.0292 20.0163 25.1217 19.9556 25.2237 19.9158C25.3257 19.8761 25.4349 19.8581 25.5443 19.8631C25.7323 19.8609 25.9157 19.921 26.0661 20.0338C26.2055 20.1515 26.2981 20.3153 26.3271 20.4954C26.337 20.5653 26.337 20.6364 26.3271 20.7063V25.9853H29.087C29.2783 25.9828 29.4664 26.0349 29.629 26.1357C29.7021 26.1808 29.7648 26.2408 29.8133 26.3117C29.8617 26.3826 29.8946 26.4628 29.91 26.5473C29.91 26.5473 29.91 26.6476 29.91 26.6978C29.9148 26.7978 29.8954 26.8973 29.8534 26.9882C29.8115 27.079 29.7483 27.1585 29.6691 27.2197C29.4942 27.3464 29.283 27.4133 29.067 27.4104H25.6747C25.4587 27.4243 25.2439 27.368 25.0625 27.2499C24.9003 27.1285 24.7921 26.9483 24.7614 26.7481C24.7541 26.6378 24.7541 26.5271 24.7614 26.4168L24.7313 20.7063Z"
                    fill="#FEE500"
                  />
                  <path
                    d="M30.0911 20.7065C30.0851 20.482 30.1639 20.2634 30.3119 20.0943C30.4623 19.9577 30.6552 19.8769 30.8582 19.866C31.0611 19.855 31.2616 19.9144 31.4259 20.0341C31.5683 20.1508 31.6644 20.3144 31.6969 20.4957C31.7018 20.5659 31.7018 20.6364 31.6969 20.7065V23.1653L34.236 20.2347C34.3339 20.1348 34.4378 20.041 34.5471 19.9538C34.6502 19.8924 34.7684 19.8611 34.8884 19.8634C35.0638 19.8624 35.2353 19.915 35.3801 20.014C35.4484 20.0599 35.5067 20.1192 35.5515 20.1882C35.5963 20.2572 35.6268 20.3344 35.6411 20.4154C35.6451 20.4353 35.6451 20.4559 35.6411 20.4757C35.6362 20.4989 35.6362 20.5228 35.6411 20.5459C35.6407 20.6515 35.6131 20.7553 35.5608 20.8471C35.5075 20.9442 35.4436 21.035 35.3701 21.1179L33.7041 22.9446L35.7113 26.0558V26.1561C35.8156 26.2999 35.8968 26.4591 35.9522 26.6279V26.678C35.9638 26.7943 35.947 26.9117 35.9034 27.02C35.8597 27.1284 35.7903 27.2245 35.7013 27.3002C35.5339 27.4268 35.329 27.4939 35.1192 27.491C34.9798 27.4967 34.8413 27.4655 34.7178 27.4006C34.5841 27.3109 34.4739 27.1905 34.3966 27.0493L32.5299 24.0385L31.6367 24.9719V26.6479C31.6427 26.8724 31.5638 27.091 31.4159 27.26C31.3365 27.3376 31.2422 27.3981 31.1386 27.4378C31.0351 27.4775 30.9245 27.4956 30.8137 27.491C30.6285 27.4949 30.4477 27.4345 30.3018 27.3203C30.1601 27.2073 30.0639 27.047 30.0309 26.8687C30.021 26.7955 30.021 26.7211 30.0309 26.6479L30.0911 20.7065Z"
                    fill="#FEE500"
                  />
                </svg>
                <svg
                  width="50"
                  height="50"
                  viewBox="0 0 50 50"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  style={{ margin: "0 5.5px", cursor: "pointer" }}
                >
                  <path
                    d="M50 25C50 11.1929 38.8071 0 25 0C11.1929 0 0 11.1929 0 25C0 38.8071 11.1929 50 25 50C38.8071 50 50 38.8071 50 25Z"
                    fill="#EA4335"
                  />
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M37.2344 25.2844C37.2344 24.398 37.1549 23.5457 37.0071 22.7275H25.2344V27.5628H31.9617C31.6719 29.1253 30.7912 30.4491 29.4673 31.3355V34.4719H33.5071C35.8708 32.2957 37.2344 29.0912 37.2344 25.2844Z"
                    fill="white"
                  />
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M25.233 37.5C28.608 37.5 31.4375 36.3807 33.5057 34.4716L29.4659 31.3352C28.3466 32.0852 26.9148 32.5284 25.233 32.5284C21.9773 32.5284 19.2216 30.3296 18.2386 27.375H14.0625V30.6136C16.1193 34.6989 20.3466 37.5 25.233 37.5Z"
                    fill="white"
                  />
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M18.2401 27.3754C17.9901 26.6254 17.848 25.8242 17.848 25.0004C17.848 24.1765 17.9901 23.3754 18.2401 22.6254V19.3867H14.0639C13.2173 21.0742 12.7344 22.9833 12.7344 25.0004C12.7344 27.0174 13.2173 28.9265 14.0639 30.614L18.2401 27.3754Z"
                    fill="white"
                  />
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M25.233 17.4716C27.0682 17.4716 28.7159 18.1023 30.0114 19.3409L33.5966 15.7557C31.4319 13.7386 28.6023 12.5 25.233 12.5C20.3466 12.5 16.1193 15.3011 14.0625 19.3864L18.2386 22.625C19.2216 19.6705 21.9773 17.4716 25.233 17.4716Z"
                    fill="white"
                  />
                </svg>
              </FlexBox>

              <Button
                margin="36px 0 44px"
                onClick={() => router.push("/login")}
                disabled={false}
                IsWhite
              >
                이메일로 로그인
              </Button>

              <Center direction="ALL" isColumn={false}>
                <SubText>계정이 없으신가요?</SubText>
                <BoldNomalText pointer onClick={() => router.push("/join")}>
                  가입하기
                </BoldNomalText>
              </Center>
            </Ani>
          )}
        </FlexEnd>
      </MaxSize>
    </>
  );
};

const Container = styled.div`
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
`;

const Ani = styled.div`
  animation: ${loadEffect} 0.5s 0s linear alternate;
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 66px;
  z-index: 1000;
  padding: 40px;
`;

const FlexEnd = styled.div`
  display: flex;
  align-items: end;
  height: 100%;
`;

const SubText = styled.div`
  color: #3c3c3c;
  font-family: Pretendard;
  font-size: 14px;
  font-style: normal;
  font-weight: 500;
  line-height: 16px;
  margin-right: 8px;
`;

export default Home;
